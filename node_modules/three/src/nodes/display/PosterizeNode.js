import TempNode from '../core/TempNode.js';
import { nodeProxy } from '../tsl/TSLBase.js';

<<<<<<< HEAD
/**
 * Represents a posterize effect which reduces the number of colors
 * in an image, resulting in a more blocky and stylized appearance.
 *
 * @augments TempNode
 */
=======
>>>>>>> 1b08ea1de21880f3fba2a757661b8baef5d934b9
class PosterizeNode extends TempNode {

	static get type() {

		return 'PosterizeNode';

	}

<<<<<<< HEAD
	/**
	 * Constructs a new posterize node.
	 *
	 * @param {Node} sourceNode - The input color.
	 * @param {Node} stepsNode - Controls the intensity of the posterization effect. A lower number results in a more blocky appearance.
	 */
=======
>>>>>>> 1b08ea1de21880f3fba2a757661b8baef5d934b9
	constructor( sourceNode, stepsNode ) {

		super();

<<<<<<< HEAD
		/**
		 * The input color.
		 *
		 * @type {Node}
		 */
		this.sourceNode = sourceNode;

		/**
		 * Controls the intensity of the posterization effect. A lower number results in a more blocky appearance.
		 *
		 * @type {Node}
		 */
=======
		this.sourceNode = sourceNode;
>>>>>>> 1b08ea1de21880f3fba2a757661b8baef5d934b9
		this.stepsNode = stepsNode;

	}

	setup() {

		const { sourceNode, stepsNode } = this;

		return sourceNode.mul( stepsNode ).floor().div( stepsNode );

	}

}

export default PosterizeNode;

<<<<<<< HEAD
/**
 * TSL function for creating a posterize node.
 *
 * @tsl
 * @function
 * @param {Node} sourceNode - The input color.
 * @param {Node} stepsNode - Controls the intensity of the posterization effect. A lower number results in a more blocky appearance.
 * @returns {PosterizeNode}
 */
export const posterize = /*@__PURE__*/ nodeProxy( PosterizeNode ).setParameterLength( 2 );
=======
export const posterize = /*@__PURE__*/ nodeProxy( PosterizeNode );
>>>>>>> 1b08ea1de21880f3fba2a757661b8baef5d934b9
