<<<<<<< HEAD
import { normalViewGeometry } from '../../accessors/Normal.js';
=======
import { normalView } from '../../accessors/Normal.js';
>>>>>>> 1b08ea1de21880f3fba2a757661b8baef5d934b9
import { float, Fn } from '../../tsl/TSLBase.js';

const getGeometryRoughness = /*@__PURE__*/ Fn( ( builder ) => {

	if ( builder.geometry.hasAttribute( 'normal' ) === false ) {

		return float( 0 );

	}

<<<<<<< HEAD
	const dxy = normalViewGeometry.dFdx().abs().max( normalViewGeometry.dFdy().abs() );
=======
	const dxy = normalView.dFdx().abs().max( normalView.dFdy().abs() );
>>>>>>> 1b08ea1de21880f3fba2a757661b8baef5d934b9
	const geometryRoughness = dxy.x.max( dxy.y ).max( dxy.z );

	return geometryRoughness;

} );

export default getGeometryRoughness;
