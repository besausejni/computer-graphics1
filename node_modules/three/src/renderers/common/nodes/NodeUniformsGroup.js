import UniformsGroup from '../UniformsGroup.js';

let _id = 0;

<<<<<<< HEAD
/**
 * A special form of uniforms group that represents
 * the individual uniforms as node-based uniforms.
 *
 * @private
 * @augments UniformsGroup
 */
class NodeUniformsGroup extends UniformsGroup {

	/**
	 * Constructs a new node-based uniforms group.
	 *
	 * @param {string} name - The group's name.
	 * @param {UniformGroupNode} groupNode - The uniform group node.
	 */
=======
class NodeUniformsGroup extends UniformsGroup {

>>>>>>> 1b08ea1de21880f3fba2a757661b8baef5d934b9
	constructor( name, groupNode ) {

		super( name );

<<<<<<< HEAD
		/**
		 * The group's ID.
		 *
		 * @type {number}
		 */
		this.id = _id ++;

		/**
		 * The uniform group node.
		 *
		 * @type {UniformGroupNode}
		 */
		this.groupNode = groupNode;

		/**
		 * This flag can be used for type testing.
		 *
		 * @type {boolean}
		 * @readonly
		 * @default true
		 */
=======
		this.id = _id ++;
		this.groupNode = groupNode;

>>>>>>> 1b08ea1de21880f3fba2a757661b8baef5d934b9
		this.isNodeUniformsGroup = true;

	}

<<<<<<< HEAD
=======
	getNodes() {

		const nodes = [];

		for ( const uniform of this.uniforms ) {

			const node = uniform.nodeUniform.node;

			if ( ! node ) throw new Error( 'NodeUniformsGroup: Uniform has no node.' );

			nodes.push( node );

		}

		return nodes;

	}

>>>>>>> 1b08ea1de21880f3fba2a757661b8baef5d934b9
}

export default NodeUniformsGroup;
